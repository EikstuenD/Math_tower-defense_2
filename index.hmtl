<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Tower Defense</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="game-container">
        <!-- Sidebar med info og kontroller -->
        <div class="sidebar">
            <h1>Math TD</h1>
            
            <div class="stats">
                <p>‚ù§Ô∏è Liv: <span id="lives">20</span></p>
                <p>üí∞ Gull: <span id="gold">100</span></p>
                <p>‚ú® XP: <span id="xp">0</span></p>
                <p>üåä B√∏lge: <span id="wave">1</span></p>
            </div>

            <div class="controls">
                <h3>Velg T√•rn</h3>
                <div class="tower-btn selected" id="btn-basic" onclick="selectTowerType('basic')">
                    <div class="icon basic"></div>
                    <span>Basis (50g)</span>
                </div>
                
                <div class="tower-btn locked" id="btn-ice" onclick="selectTowerType('ice')">
                    <div class="icon ice"></div>
                    <span>Br√∏k-Is (100g)</span>
                    <small>L√•s opp i ferdighetstre</small>
                </div>

                <div class="tower-btn locked" id="btn-sniper" onclick="selectTowerType('sniper')">
                    <div class="icon sniper"></div>
                    <span>Algebra-Laser (200g)</span>
                    <small>L√•s opp i ferdighetstre</small>
                </div>

                <button class="skill-tree-btn" onclick="toggleSkillTree()">üéì Ferdighetstre</button>
                <button class="start-wave-btn" onclick="startNextWave()">‚öîÔ∏è Start B√∏lge</button>
            </div>
        </div>

        <!-- Spillbrettet -->
        <div class="canvas-wrapper">
            <canvas id="gameCanvas" width="800" height="600"></canvas>
            <div id="message-overlay">Klikk p√• et gr√∏nt felt for √• bygge!</div>
        </div>
    </div>

    <!-- Modal for Matteoppgaver -->
    <div id="math-modal" class="modal hidden">
        <div class="modal-content">
            <h2>L√∏s oppgaven for √• bygge!</h2>
            <div class="difficulty-label">Vanskelighetsgrad: <span id="math-diff">1</span></div>
            <div id="math-problem" class="math-problem">2 + 2 = ?</div>
            <input type="number" id="math-answer" placeholder="Ditt svar...">
            <button onclick="checkAnswer()">Send Svar</button>
            <p id="math-feedback"></p>
        </div>
    </div>

    <!-- Modal for Ferdighetstre -->
    <div id="skill-modal" class="modal hidden">
        <div class="modal-content large">
            <h2>üéì Matematikk Ferdighetstre</h2>
            <p>Bruk XP tjent fra kamper og matteoppgaver til √• l√•se opp ny teknologi.</p>
            <p>Din XP: <span id="skill-xp">0</span></p>
            
            <div class="skill-tree">
                <div class="skill-node" id="node-ice">
                    <h3>Kvantitet (Br√∏k)</h3>
                    <p>L√•ser opp Br√∏k-Is t√•rn (Sinkende effekt)</p>
                    <button onclick="unlockSkill('ice', 100)">L√•s opp (100 XP)</button>
                </div>
                <div class="skill-node" id="node-sniper">
                    <h3>Algebra</h3>
                    <p>L√•ser opp Algebra-Laser (H√∏y skade)</p>
                    <button onclick="unlockSkill('sniper', 200)">L√•s opp (200 XP)</button>
                </div>
            </div>
            <button onclick="toggleSkillTree()" class="close-btn">Lukk</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
